<page-header
  [title]="'My Projects'"
  [listView]="listView"
  (viewChanged)="changeView($event)">
</page-header>
<ng-container *ngIf="listView === false || mediaObserver.isActive('lt-md') then gridList else defaultView"></ng-container>

<ng-template #gridList>
  <div class="card-section" [class]="mediaObserver.isActive('xs') ? 'compressed-card-view-style' : 'grid-view-card-style pt-3'"
       fxLayout="row wrap" fxLayoutGap.gt-xs="4rem grid">
    <div [class]="mediaObserver.isActive('xs') ? 'pt-custom' : ''" fxFlex="33%" fxFlex.lt-md="100%" fxFlex.md="50%" *ngFor="let project of projects">
      <mat-card class="card-style flex-column card-style-pointer custom-card-height mat-elevation-z4">
        <div class="header font-Droid-Serif fs-80 fw-b" fxHide fxShow.gt-xs>
          <div class="logo-container maxw-10">
            <img class="default-image-style" src="{{project.logo}}">
          </div>
          <div class="title pl-1"> {{project.title}} </div>
          <div class="redirect">
            <fa-icon *ngIf="project.contributedProject" class="mr-1" [icon]="importantNoticeIcon" [matTooltip]="importantNoticeTooltip" [matTooltipPosition]="'above'"></fa-icon>
            <fa-icon [icon]="redirectIcon" (click)="redirect(project.link)"></fa-icon>
          </div>
        </div>

        <div class="compressed-header font-Droid-Serif fs-80 fw-b" fxHide fxShow.xs>
          <div class="logo-container compressed-image-container">
            <img class="default-image-style" src="{{project.logo}}">
          </div>
          <div class="title fs-40 center-text"> {{project.title}} </div>
          <div class="compressed-redirect fs-40">
            <fa-icon *ngIf="project.contributedProject" [icon]="importantNoticeIcon" [matTooltip]="importantNoticeTooltip" [matTooltipPosition]="'above'"></fa-icon>
            <fa-icon [icon]="redirectIcon" class="icon-position-right" (click)="redirect(project.link)"></fa-icon>
          </div>
        </div>

        <div class="font-Droid-Serif fs-50 pt-2" fxHide fxShow.gt-xs> {{project.briefDescription}} </div>
        <div class="font-Droid-Serif fs-40 pt-2" fxHide fxShow.xs> {{project.briefDescription}} </div>

<!--        <div class="display-image-container pt-1">-->
<!--          <img class="display-image-size" src="{{project.imageDisplay}}">-->
<!--        </div>-->

        <mat-chip-list class="projects-chip-position">
          <mat-chip *ngFor="let technology of project.techUsed"> {{technology}} </mat-chip>
        </mat-chip-list>
      </mat-card>
    </div>
  </div>
</ng-template>

<ng-template #defaultView>
  <div class="sections" *ngFor="let project of projects">
    <mat-card class="card-style default-view-card-style mat-elevation-z4">
      <div class="header font-Droid-Serif fs-80 fw-b">
        <div class="logo-container maxw-10">
          <img class="default-image-style" src="{{project.logo}}">
        </div>
        <div class="title pl-1"> {{project.title}} </div>
        <div class="redirect">
          <fa-icon *ngIf="project.contributedProject" class="interactable mr-1" [icon]="importantNoticeIcon" [matTooltip]="importantNoticeTooltip" [matTooltipPosition]="'above'"></fa-icon>
          <fa-icon class="interactable" [icon]="redirectIcon" (click)="redirect(project.link)"></fa-icon>
        </div>
      </div>
      <div class="font-Droid-Serif fs-50 pt-2"> {{project.detailedDescription}} </div>
      <mat-chip-list>
        <mat-chip color="accent" *ngFor="let technology of project.techUsed"> {{technology}} </mat-chip>
      </mat-chip-list>
    </mat-card>
  </div>
</ng-template>
