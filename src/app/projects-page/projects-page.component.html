<page-header
  [title]="'My Projects'"
  [listView]="listView"
  (viewChanged)="changeView($event)">
</page-header>
<ng-container *ngIf="listView === true then defaultView else gridView"></ng-container>

<ng-template #defaultView>
  <div class="sections" *ngFor="let project of projects">
    <mat-card class="card-style default-view-card-style mat-elevation-z4">
      <div class="header font-Droid-Serif fs-80 fw-b">
        <div class="image-container w-10">
          <img class="default-image-style" src="{{project.imagePath}}">
        </div>
        <div class="title pl-1"> {{project.title}} </div>
        <div class="redirect">
          <fa-icon *ngIf="project.contributedProject" class="interactable mr-1" [icon]="importantNoticeIcon" [matTooltip]="importantNoticeTooltip" [matTooltipPosition]="'above'"></fa-icon>
          <fa-icon class="interactable" [icon]="redirectIcon" (click)="redirect(project.link)"></fa-icon>
        </div>
      </div>
      <div class="font-Droid-Serif fs-50 pt-2" [innerHTML]="project.detailedDescription"></div>
    </mat-card>
  </div>
</ng-template>

<ng-template #gridView>
  <div class="card-section grid-view-card-style pt-3" fxLayout="row wrap" fxLayoutGap="7rem grid">
    <div fxFlex="33%" fxFlex.lt-md="100%" fxFlex.md="50%" *ngFor="let project of projects">
      <mat-card class="card-style card-style-pointer mat-elevation-z4">
        <div class="header font-Droid-Serif fs-80 fw-b">
          <div class="image-container w-10">
            <img class="default-image-style" src="{{project.imagePath}}">
          </div>
          <div class="title pl-1" [innerHTML]="project.title"></div>
          <div class="redirect">
            <fa-icon *ngIf="project.contributedProject" class="mr-1" [icon]="importantNoticeIcon" [matTooltip]="importantNoticeTooltip" [matTooltipPosition]="'above'"></fa-icon>
            <fa-icon [icon]="redirectIcon" (click)="redirect(project.link)"></fa-icon>
          </div>
        </div>
        <div class="font-Droid-Serif fs-50 pt-2" [innerHTML]="project.briefDescription"></div>
      </mat-card>
    </div>
  </div>
</ng-template>
